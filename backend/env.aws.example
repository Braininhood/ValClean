# =============================================================================
# VALClean – Backend .env for AWS EC2 (copy to backend/.env on server)
#
# REPLACE ONLY THESE (same placeholder = same value):
#   YOUR_SECRET_KEY          →  output of: openssl rand -hex 32
#   YOUR_PROJECT_REF         →  from Supabase URL https://XXXX.supabase.co
#   YOUR_REGION              →  e.g. eu-west-2 (from Supabase pooler host)
#   YOUR_DB_PASSWORD         →  Supabase Database password
#   YOUR_SUPABASE_ANON_KEY   →  Settings → API → anon public
#   YOUR_SUPABASE_SERVICE_ROLE_KEY  →  Settings → API → service_role (secret)
#   YOUR_SUPABASE_JWT_SECRET →  Settings → API → JWT Secret
# Do not commit .env.
# =============================================================================

# Django (run: openssl rand -hex 32  →  paste as YOUR_SECRET_KEY)
SECRET_KEY=YOUR_SECRET_KEY
DEBUG=False
ALLOWED_HOSTS=localhost,127.0.0.1,13.135.109.229,ec2-13-135-109-229.eu-west-2.compute.amazonaws.com

# Database – Supabase: use SESSION POOLER only (direct db.xxx fails on EC2 IPv4)
# Copy the FULL URI from: Dashboard → Settings → Database → "Session pooler" → URI (do not type by hand)
# Username: postgres.PROJECT_REF. If password has @ # % → use %40 %23 %25 in URI (e.g. @pass → %40pass)
DATABASE_URL=postgresql://postgres.YOUR_PROJECT_REF:YOUR_DB_PASSWORD@aws-0-YOUR_REGION.pooler.supabase.com:6543/postgres

# Supabase (Dashboard → Settings → API and JWT Settings)
# PROJECT_REF = the part in https://XXXX.supabase.co (same as in DATABASE_URL)
SUPABASE_URL=https://YOUR_PROJECT_REF.supabase.co
SUPABASE_ANON_KEY=YOUR_SUPABASE_ANON_KEY
SUPABASE_SERVICE_ROLE_KEY=YOUR_SUPABASE_SERVICE_ROLE_KEY
SUPABASE_JWT_SECRET=YOUR_SUPABASE_JWT_SECRET

# CORS + Frontend URL (EC2 test – no change needed)
CORS_ALLOWED_ORIGINS=https://13.135.109.229,https://ec2-13-135-109-229.eu-west-2.compute.amazonaws.com,http://13.135.109.229,http://ec2-13-135-109-229.eu-west-2.compute.amazonaws.com
CORS_ALLOW_CREDENTIALS=True
FRONTEND_URL=https://13.135.109.229

# JWT
JWT_ACCESS_TOKEN_LIFETIME=15
JWT_REFRESH_TOKEN_LIFETIME=10080

# Email (optional for tests – console; for production set SendGrid)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
DEFAULT_FROM_EMAIL=noreply@valclean.uk
